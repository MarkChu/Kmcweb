(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{6355:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-center items-start"},[s("div",{staticClass:"col-12 col-lg-8"},[s("q-tabs",{staticClass:"q-my-md",attrs:{align:"left","indicator-color":"transparent"}},[s("q-route-tab",{staticClass:"text-white text-bolder",staticStyle:{"background-color":"#E63082","max-width":"100px"},attrs:{label:"議事檢索",to:"/motion"}})],1),s("div",{staticClass:"row q-pb-sm"},[s("div",{staticClass:"col"},[s("q-card",{staticClass:"my-card"},[s("q-card-section",[e.showError?s("div",{staticClass:"row"},[s("div",{staticClass:"col q-pa-sm text-h6 text-red text-weight"},[e._v("您輸入的查詢無資料。")])]):e._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"q-pa-sm col-xs-6 col-sm-6 col-md-3"},[s("q-select",{attrs:{outlined:"",options:e.options.expkd,label:"屆別","emit-value":"","map-options":"",dense:e.small,clearable:""},model:{value:e.search.expkd,callback:function(t){e.$set(e.search,"expkd",t)},expression:"search.expkd"}})],1),s("div",{staticClass:"q-pa-sm col-xs-6 col-sm-6 col-md-3"},[s("q-select",{attrs:{outlined:"",options:e.options.seqkd,label:"會別","emit-value":"","map-options":"",dense:e.small,clearable:""},model:{value:e.search.seqkd,callback:function(t){e.$set(e.search,"seqkd",t)},expression:"search.seqkd"}})],1),s("div",{staticClass:"q-pa-sm col-xs-12 col-sm-12 col-md-3"},[s("q-select",{attrs:{outlined:"",options:e.options.seqno,label:"會次","emit-value":"","map-options":"",dense:e.small,clearable:""},model:{value:e.search.seqno,callback:function(t){e.$set(e.search,"seqno",t)},expression:"search.seqno"}})],1),s("div",{staticClass:"q-pa-sm col-xs-12 col-sm-12 col-md-3"},[s("q-input",{attrs:{outlined:"",label:"關鍵字",dense:e.small},model:{value:e.search.searchstr,callback:function(t){e.$set(e.search,"searchstr",t)},expression:"search.searchstr"}})],1),s("div",{staticClass:"q-pa-sm col-xs-12 col-sm-12 col-md-3"},[s("q-input",{attrs:{outlined:"",label:"提案人",dense:e.small},model:{value:e.search.sm1_1c,callback:function(t){e.$set(e.search,"sm1_1c",t)},expression:"search.sm1_1c"}})],1),s("div",{staticClass:"q-pa-sm col-xs-12 col-sm-12 col-md-3"},[s("q-input",{attrs:{outlined:"",label:"連署人",dense:e.small},model:{value:e.search.sm1_2c,callback:function(t){e.$set(e.search,"sm1_2c",t)},expression:"search.sm1_2c"}})],1)])]),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"center"}},[s("q-btn",{staticClass:"text-weight",attrs:{size:"lg",dense:e.small,label:"送出查詢",color:"primary"},on:{click:e.getlist}})],1)],1)],1)]),e.rows.length?s("q-table",{attrs:{data:e.rows,filter:e.filter,columns:e.columns,loading:e.loading,"row-key":"index","no-data-label":"目前沒有資料。",pagination:e.initialPagination,"rows-per-page-label":"每頁筆數",separator:"cell",bordered:"",dense:e.small},scopedSlots:e._u([{key:"top",fn:function(){return[s("span",{staticClass:"text-h5 tableTitle"},[e._v(e._s("議事檢索 - 查詢結果"))]),s("q-space"),s("q-input",{attrs:{borderless:"",dense:"",filled:"",debounce:"300",color:"primary",clearable:""},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,4009527860),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"header",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-th",{staticClass:"my-qtable-header",attrs:{"auto-width":""}}),e._l(t.cols,(function(a){return s("q-th",{key:a.name,attrs:{props:t}},[e._v("\n            "+e._s(a.label)+"\n          ")])}))],2)]}},{key:"body",fn:function(t){return[s("q-tr",{style:t.rowIndex%2>0?"background-color:#eee;":"",attrs:{props:t}},[s("q-td",{attrs:{"auto-width":""}},[s("q-btn",{attrs:{size:"sm",color:"accent",round:"",dense:"",icon:t.expand?"remove":"add"},on:{click:function(e){t.expand=!t.expand}}})],1),s("q-td",{key:"col1",staticClass:"font-list",attrs:{props:t}},[e._v("\n            "+e._s(t.row.expkd)+"\n          ")]),s("q-td",{key:"col2",staticClass:"font-list",attrs:{props:t}},[e._v("\n            "+e._s(t.row.seqkd)+"\n          ")]),s("q-td",{key:"col3",staticClass:"font-list",attrs:{props:t}},[s("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(t.row.title))])]),s("q-td",{key:"col4",staticClass:"font-list",attrs:{props:t}},[s("div",{staticStyle:{"white-space":"pre-wrap"}},[s("text-highlight",{attrs:{queries:e.query}},[e._v(e._s(t.row.cont3c))])],1)]),s("q-td",{key:"col5",staticClass:"font-list",attrs:{props:t}},[e._v("\n            "+e._s(t.row.cont1c)+"\n          ")]),s("q-td",{key:"col6",staticClass:"font-list",attrs:{props:t}},[e._v("\n            "+e._s(t.row.cont2c)+"\n          ")])],1),s("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[s("q-td",{attrs:{colspan:"100%"}},[s("div",{staticClass:"row text-left"},[s("div",{staticClass:"col"},[s("div",{staticClass:"q-pb-xs font-list",staticStyle:{"font-weight":"bold"}},[e._v("議決:")]),s("div",{staticClass:"q-pl-sm font-list",staticStyle:{"white-space":"pre-wrap"}},[s("text-highlight",{attrs:{queries:e.query}},[e._v(e._s(t.row.cont7c))])],1)])]),s("div",{staticClass:"row text-left q-mt-xs"},[s("div",{staticClass:"col"},[s("div",{staticClass:"q-pb-xs font-list",staticStyle:{"font-weight":"bold"}},[e._v("辦法:")]),s("div",{staticClass:"q-pl-sm font-list",staticStyle:{"white-space":"pre-wrap"}},[s("text-highlight",{attrs:{queries:e.query}},[e._v(e._s(t.row.cont5c))])],1)])])])],1)]}}],null,!1,2283145856)}):e._e()],1)])},l=[],o=(s("841c"),s("ac1f"),s("a434"),s("159b"),{name:"PageIndex",watch:{"search.expkd":function(){this.load3()},"search.seqkd":function(){this.load3()}},data:function(){return{loading:!1,showError:!1,query:null,search:{expkd:null,seqkd:null,seqno:null,searchstr:null,sm1_1c:null,sm1_2c:null},options:{expkd:[],seqkd:[],seqno:[]},filter:null,initialPagination:{sortBy:"name",descending:!1,page:1,rowsPerPage:10},columns:[{name:"col1",label:"屆別",align:"center",style:"",headerStyle:"width: 5%;",headerClasses:"my-qtable-header",field:"expkd"},{name:"col2",label:"會別",align:"center",style:"",headerStyle:"width: 5%;",headerClasses:"my-qtable-header",field:"seqkd"},{name:"col3",label:"會次",align:"center",style:"",headerStyle:"width: 15%;",headerClasses:"my-qtable-header",field:"seqno"},{name:"col4",label:"案由",align:"left",style:"",headerStyle:"width: 45%;",headerClasses:"my-qtable-header",field:"cont3c"},{name:"col5",label:"提案人",align:"center",style:"",headerStyle:"width: 15%;",headerClasses:"my-qtable-header",field:"cont1c"},{name:"col6",label:"連署人",align:"center",style:"",headerStyle:"width: 15%;",headerClasses:"my-qtable-header",field:"cont2c"}],rows:[]}},methods:{getlist:function(){var e,t,s,a,l,o,n=this,c=n.rows;n.showError=!1;var i=null!==(e=n.search.expkd)&&void 0!==e?e:"",r=null!==(t=n.search.seqkd)&&void 0!==t?t:"",d=null!==(s=n.search.seqno)&&void 0!==s?s:"",p=null!==(a=n.search.searchstr)&&void 0!==a?a:"",h=null!==(l=n.search.sm1_1c)&&void 0!==l?l:"",u=null!==(o=n.search.sm1_2c)&&void 0!==o?o:"";c.splice(0,c.length),n.loading=!0,n.query=null;var m=n.$apiServer+"json_motion_web.asp?act=getlist&expkd="+i+"&seqkd="+r+"&seqno="+d+"&searchstr="+p+"&sm1_1c="+h+"&sm1_2c="+u;n.$axios.get(m).then((function(e){if(200===e.status){var t=e.data.data,s=0;t.forEach((function(e){s++;var t={index:s,expkd:e.sm1_expkd,seqkd:e.sm1_seqkd,seqno:e.sm1_seqno,title:e.sm1_title,cont3c:e.sm1_3c,cont7c:e.sm1_7c,cont5c:e.sm1_5c,cont1c:e.sm1_1c,cont2c:e.sm1_2c};c.push(t)})),n.loading=!1,n.query=p,0===s&&(n.showError=!0)}})).catch((function(e){console.log(e),n.loading=!1}))},load1:function(){var e=this,t=e.options.expkd,s=e.$apiServer+"json_motion_web.asp?act=getexpkd";t.splice(0,t.length),e.$axios.get(s).then((function(e){if(200===e.status){var s=e.data.data;s.forEach((function(e){t.push(e)}))}})).catch((function(e){console.log(e)}))},load2:function(){var e=this,t=e.options.seqkd,s=e.$apiServer+"json_motion_web.asp?act=getseqkd";t.splice(0,t.length),e.$axios.get(s).then((function(e){if(200===e.status){var s=e.data.data;s.forEach((function(e){t.push(e)}))}})).catch((function(e){console.log(e)}))},load3:function(){var e,t,s=this,a=s.options.seqno;s.search.seqno=null;var l=null!==(e=s.search.expkd)&&void 0!==e?e:"",o=null!==(t=s.search.seqkd)&&void 0!==t?t:"",n=s.$apiServer+"json_motion_web.asp?act=getseqno&expkd="+l+"&seqkd="+o;a.splice(0,a.length),s.$axios.get(n).then((function(e){if(200===e.status){var t=e.data.data;t.forEach((function(e){var t={value:e.label,label:e.label};a.push(t)}))}})).catch((function(e){console.log(e)}))},download:function(e,t){if(e){var s=this,a=s.$fileServer+"accounts/"+e,l=document.createElement("a");l.style.display="none",l.href=a,l.target="_blank",l.setAttribute("download",t),document.body.appendChild(l),l.click()}},showKeyword:function(e,t){}},mounted:function(){var e=this;e.load1(),e.load2(),e.load3()},computed:{tableheight:function(){var e=this,t=e.$q.screen.width,s=e.$q.screen.height;return t>600&&s>800?"height: "+(e.$q.screen.height-460)+"px;":""},small:function(){var e=this,t=e.$q.screen.width;return t<760}}}),n=o,c=s("2877"),i=s("429b"),r=s("7867"),d=s("f09f"),p=s("a370"),h=s("ddd8"),u=s("27f9"),m=s("4b7e"),q=s("9c40"),f=s("eaac"),v=s("2c91"),b=s("0016"),w=s("bd08"),x=s("357e"),g=s("db86"),k=s("eebe"),_=s.n(k),y=Object(c["a"])(n,a,l,!1,null,null,null);t["default"]=y.exports;_()(y,"components",{QTabs:i["a"],QRouteTab:r["a"],QCard:d["a"],QCardSection:p["a"],QSelect:h["a"],QInput:u["a"],QCardActions:m["a"],QBtn:q["a"],QTable:f["a"],QSpace:v["a"],QIcon:b["a"],QTr:w["a"],QTh:x["a"],QTd:g["a"]})}}]);